@import "@styles/styles";
@import "./diaWidth.scss";

.dialog {
  display: flex;
  flex-direction: column;
  box-sizing: border-box;

  // position: absolute;
  // bottom: 0;
  height: 30vh;
  // width: calc(100vw - 6rem);

  z-index: 2;

  // overflow-y: scroll;
  // background-color: clr(dialog, bcg);
  background: linear-gradient(
    rgba(clr(dialog, bcg), 0.7) 0%,
    rgba(clr(dialog, bcg), 0.9) 100%
  );

  margin: 1rem;
  // padding: 2rem;
  align-items: flex-start;
  border: 4px solid white;

  $dialog-border-radius: 4px;
  border-radius: $dialog-border-radius;

  overflow-y: scroll;
  scrollbar-width: none; /* Firefox */
  -ms-overflow-style: none; /* Internet Explorer 10+ */

  scroll-behavior: smooth;

  .dialogEntry {
    // animation: morphing 2s infinite;
    // box-sizing: border-box;
    // background-color: blue;
    border-radius: $dialog-border-radius;
    border-top-right-radius: 0;
    // padding: 2rem;
    max-width: 70%;
    height: min-content;
    position: relative;
    // margin-bottom: 1rem;

    margin-top: 1rem;

    &:last-child {
      margin-bottom: 2rem;
    }

    $character-name-margin: 3rem;
    .character_name {
      width: min-content;
      margin: 0;
      filter: drop-shadow(0 0 4px currentColor);
      // margin-left: $character-name-margin;
      padding: 0 2rem;
      // padding-top: 1.5rem;
      padding-bottom: 0;
      // background-color: clr(dialog, msgBcg);
      background-color: transparent;
      border-radius: $dialog-border-radius;
      // position: absolute;
      // bottom: 100%;
      // right: 0;
      border-bottom-left-radius: 0;
      border-bottom-right-radius: 0;
      position: relative;
      &::after {
        display: block;
        left: 0;
        right: 0;
        top: $dialog-border-radius;
        bottom: -$dialog-border-radius;
        content: "";
        position: absolute;
        // background-color: clr(dialog, msgBcg);
        // left: 0;
        // border-radius: $dialog-border-radius;
        // border-top-right-radius: $dialog-border-radius;
        // right: 0;
        // right: 0;
        z-index: -1;
      }
    }

    .text {
      // background-color: clr(dialog, msgBcg);
      padding: 2rem 2rem;
      padding-top: 0;
      padding-bottom: 0;
      margin-top: 1em;
      border-radius: $dialog-border-radius;
      border-top-left-radius: 0;
    }

    p {
      color: clr(dialog, dialogText);
      margin: 0;
    }

    &.Waifu {
      // right: 0;
      align-self: flex-end;

      .text {
        background-color: clr(dialog, msgBcgWaifu);
      }

      .character_name {
        margin-left: auto;
        margin-right: 2rem;

        // background-color: clr(dialog, msgBcgWaifu);
        // margin-left: 0;
        // margin-right: $character-name-margin;

        &::after {
          // background-color: clr(dialog, msgBcgWaifu);
        }
      }
    }
  }
}
