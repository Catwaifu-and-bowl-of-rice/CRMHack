(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{14:function(e,t,n){},15:function(e,t,n){},17:function(e,t,n){},18:function(e,t,n){},20:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),r=n(7),i=n.n(r),s=(n(14),n(9)),o=n(2),u=(n.p,n.p+"static/media/background.4fd85e44.jpg"),f=(n(15),n(0)),l=function(e){e.position;var t=e.character,n=e.emotion;return console.log(t[n].img),Object(f.jsx)("video",{className:"character left",autoPlay:!0,loop:!0,muted:!0,children:Object(f.jsx)("source",{src:t[n].img,type:"video/mp4"})})},j=(n(17),{Waifu:{clr:"#FDBC00"},Semen:{clr:"#3DD643"}}),m=function(e){var t=e.dialog,n=Object(a.useRef)();return Object(a.useEffect)((function(){(null===n||void 0===n?void 0:n.current)&&(n.current.scrollTop=n.current.scrollHeight)}),[t]),Object(f.jsx)("section",{className:"dialog",ref:n,children:t.map((function(e,t){var n=e.character_name,a=e.text;return Object(f.jsxs)("div",{className:"dialogEntry ".concat("Waifu"===n?"Waifu":""),children:[Object(f.jsx)("h4",{style:{color:j[n].clr},className:"character_name",children:n}),Object(f.jsx)("div",{className:"text",children:Object(f.jsx)("p",{children:a})})]},t)}))})},p=(n(18),function(e){var t=e.sendMessage,n=Object(a.useState)(""),c=Object(o.a)(n,2),r=c[0],i=c[1];return Object(f.jsxs)("form",{className:"diaInput",action:"#",onSubmit:function(e){e.preventDefault(),t(r)},children:[Object(f.jsx)("input",{type:"text",onChange:function(e){i(e.target.value)}}),Object(f.jsx)("button",{children:">"})]})}),d={happy:{img:n.p+"static/media/waifu_happy.eae5a9bf.png"},positive:{img:n.p+"static/media/waifu-positive.3c8b2285.mp4"},standart:{img:n.p+"static/media/waifu-standart.db35702b.mp4"},negative:{img:n.p+"static/media/waifu-negative.8f105a61.mp4"}},b=n(6),h=n.n(b),O=n(8),g=function(e,t){var n=function(){var e=Object(O.a)(h.a.mark((function e(){var t,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/chats/");case 2:return e.next=4,e.sent.json();case 4:return t=e.sent,n=Object.values(t.chats)[0],e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){n().then((function(n){return function(e,n){t(e.account),console.log("SET ACCOUNT"),n((function(){return e.messages.map((function(e){return{text:e.text,character_name:"Waifu"}}))}))}(n,e)}),(function(e){return console.error(e)}))}),[e])},v=function(){var e=Object(a.useState)([{text:"Nyet",character_name:"Waifu"},{text:"Pamagi",character_name:"Semen"},{text:"Whoooma apoooma a aboba perdola. Superhyper gigachad. Hhuy uu ii asli epasue. Saoeurp.",character_name:"Semen"}]),t=Object(o.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(),i=Object(o.a)(r,2),j=i[0],b=i[1],h=Object(a.useState)("standart"),O=Object(o.a)(h,2),v=O[0],x=O[1];g(c,b),function(e,t){Object(a.useEffect)((function(){if(t){var n=new WebSocket("ws://localhost/chats/".concat(t));n.onopen=function(e){console.log("SOCKET OPENED")},n.onmessage=function(t){var n=function(e){var t=e.NEGATIVE,n=e.NEUTRAL,a=e.POSITIVE;return a>t&&a>n?"positive":t>a&&t>n?"negative":"standart"}(t.data.emotions);e(n)}}}),[t,e])}(x,j);return Object(f.jsx)("div",{className:"App",children:Object(f.jsxs)("div",{className:"novelWrapper",children:[Object(f.jsx)("img",{src:u,className:"bcg"}),Object(f.jsx)("section",{className:"characters",children:Object(f.jsx)(l,{character:d,emotion:v})}),Object(f.jsx)(m,{dialog:n}),Object(f.jsx)(p,{sendMessage:function(e){var t,n;t=e,n="Semen",c((function(e){return[].concat(Object(s.a)(e),[{text:t,character_name:n}])}))}})]})})},x=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,21)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),r(e),i(e)}))};i.a.render(Object(f.jsx)(c.a.StrictMode,{children:Object(f.jsx)(v,{})}),document.getElementById("root")),x()}},[[20,1,2]]]);
//# sourceMappingURL=main.7442effd.chunk.js.map