(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{14:function(e,t,a){},15:function(e,t,a){},17:function(e,t,a){},18:function(e,t,a){},20:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),r=a(7),i=a.n(r),s=(a(14),a(9)),o=a(2),u=(a.p,a.p+"static/media/background.4fd85e44.jpg"),f=(a(15),a(0)),l=function(e){e.position;var t=e.character,a=e.emotion;return console.log(t[a].img),Object(f.jsx)("video",{className:"character left",autoPlay:!0,loop:!0,muted:!0,children:Object(f.jsx)("source",{src:t[a].img,type:"video/mp4"})})},j=(a(17),{Waifu:{clr:"#FDBC00"},Semen:{clr:"#3DD643"}}),m=function(e){var t=e.dialog,a=Object(n.useRef)();return Object(n.useEffect)((function(){(null===a||void 0===a?void 0:a.current)&&(a.current.scrollTop=a.current.scrollHeight)}),[t]),Object(f.jsx)("section",{className:"dialog",ref:a,children:t.map((function(e,t){var a=e.character_name,n=e.text;return Object(f.jsxs)("div",{className:"dialogEntry ".concat("Waifu"===a?"Waifu":""),children:[Object(f.jsx)("h4",{style:{color:j[a].clr},className:"character_name",children:a}),Object(f.jsx)("div",{className:"text",children:Object(f.jsx)("p",{children:n})})]},t)}))})},p=(a(18),function(e){var t=e.sendMessage,a=Object(n.useState)(""),c=Object(o.a)(a,2),r=c[0],i=c[1];return Object(f.jsxs)("form",{className:"diaInput",action:"#",onSubmit:function(e){e.preventDefault(),t(r)},children:[Object(f.jsx)("input",{type:"text",onChange:function(e){i(e.target.value)}}),Object(f.jsx)("button",{children:">"})]})}),d={happy:{img:a.p+"static/media/waifu_happy.eae5a9bf.png"},positive:{img:a.p+"static/media/waifu-positive.3c8b2285.mp4"},standart:{img:a.p+"static/media/waifu-standart.db35702b.mp4"},negative:{img:a.p+"static/media/waifu-negative.8f105a61.mp4"}},b=a(6),h=a.n(b),O=a(8),g=function(e,t){var a=function(){var e=Object(O.a)(h.a.mark((function e(){var t,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/chats/");case 2:return e.next=4,e.sent.json();case 4:return t=e.sent,a=Object.values(t.chats)[0],e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){a().then((function(a){return function(e,a){t(e.account),console.log("SET ACCOUNT"),a((function(){return e.messages.map((function(e){return{text:e.text,character_name:"Waifu"}}))}))}(a,e)}),(function(e){return console.error(e)}))}),[e])},v=function(){var e=Object(n.useState)([{text:"Nyet",character_name:"Waifu"},{text:"Pamagi",character_name:"Semen"},{text:"Whoooma apoooma a aboba perdola. Superhyper gigachad. Hhuy uu ii asli epasue. Saoeurp.",character_name:"Semen"}]),t=Object(o.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(),i=Object(o.a)(r,2),j=i[0],b=i[1],h=Object(n.useState)("standart"),O=Object(o.a)(h,2),v=O[0],x=O[1];g(c,b),function(e,t){Object(n.useEffect)((function(){if(t){var a=new WebSocket("ws://localhost/chats/".concat(t));a.onopen=function(e){console.log("SOCKET OPENED")},a.onmessage=function(t){var a=function(e){var t=e.NEGATIVE,a=e.NEUTRAL,n=e.POSITIVE;return n>t&&n>a?"positive":t>n&&t>a?"negative":"standart"}(t.data.emotions);e(a)}}}),[t,e])}(x,j);return Object(f.jsx)("div",{className:"App",children:Object(f.jsxs)("div",{className:"novelWrapper",children:[Object(f.jsx)("img",{src:u,className:"bcg"}),Object(f.jsx)("section",{className:"characters",children:Object(f.jsx)(l,{character:d,emotion:v})}),Object(f.jsx)(m,{dialog:a}),Object(f.jsx)(p,{sendMessage:function(e){var t,a;t=e,a="Semen",c((function(e){return[].concat(Object(s.a)(e),[{text:t,character_name:a}])}))}})]})})};i.a.render(Object(f.jsx)(c.a.StrictMode,{children:Object(f.jsx)(v,{})}),document.getElementById("root"))}},[[20,1,2]]]);
//# sourceMappingURL=main.d29f13a7.chunk.js.map